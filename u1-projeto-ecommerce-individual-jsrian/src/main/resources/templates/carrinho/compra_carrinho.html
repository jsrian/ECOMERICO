<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"  >
<head>
    <title>Carrinho</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <meta charset="UTF-8">
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
         {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body class="d-flex flex-column">
<div th:replace="~{fragments/navbar :: navbar}"></div>
<div class="content-wrapper">
    <section class="container" style="max-width: 600px;"> <div class="list-group">

        <a href="#" class="list-group-item list-group-item-action"
           th:each="item : ${itensCarrinho}">

            <div class="d-flex w-100 justify-content-between">
                <img th:if="${item.produto.caminhoImagem != null and !#strings.isEmpty(item.produto.caminhoImagem)}">
                <img th:src="@{'/' + ${item.produto.caminhoImagem}}"
                     th:alt="${item.produto.nome}"
                     style="width: 100px;">
                <h5 class="mb-1" th:text="${item.produto.nome} + ' (x' + ${item.quantidade} + ')'">Nome do Produto</h5>
                <small th:text="'R$ ' + ${item.subtotal}"></small>
            </div>
            <p class="mb-1" th:text="${item.produto.descricao}">Descrição do produto</p>
            <small class="text-body-secondary" th:text="'Preço Unitário: R$ ' + ${item.produto.preco}">preço</small>

            <a th:href="@{'/carrinho/remover/' + ${item.produto.id}}" class="btn btn-sm btn-danger float-end">Remover</a>        </a>

    </div>

        <div class="list-group mt-3">
            <div class="list-group-item d-flex justify-content-between bg-light">
                <h4 class="mb-0">Total Geral:</h4>
                <h4 class="mb-0 text-success" th:text="'R$ ' + ${totalGeral}">R$ 0.00</h4>
            </div>
            <form action="/iniciar_checkout" method="post">
                <button type="submit" class="btn btn-success btn-lg">
                    Comprar Agora
                </button>
            </form>
            <a th:href="@{/inicio}" class="btn btn-primary mt-2">
                Voltar às compras
            </a>
        </div>
    </section>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
</script>
</body>
</html>